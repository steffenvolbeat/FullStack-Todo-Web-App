module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},97894,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d({onAddTodo:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(!1),j=async b=>{if(b.preventDefault(),d.trim()){i(!0);try{await a(d.trim(),f.trim())&&(e(""),g(""))}finally{i(!1)}}};return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-700",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"âœ¨ Neues Todo hinzufÃ¼gen"}),(0,b.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-200 mb-2",children:"Titel *"}),(0,b.jsx)("input",{id:"title",type:"text",value:d,onChange:a=>e(a.target.value),placeholder:"Was mÃ¶chtest du erledigen?",maxLength:255,required:!0,disabled:h,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 disabled:bg-gray-600 disabled:cursor-not-allowed"}),(0,b.jsxs)("div",{className:"mt-1 text-xs text-gray-400",children:[d.length,"/255 Zeichen"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-200 mb-2",children:"Beschreibung (optional)"}),(0,b.jsx)("textarea",{id:"description",value:f,onChange:a=>g(a.target.value),placeholder:"Weitere Details zu deinem Todo...",rows:3,disabled:h,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md shadow-sm placeholder-gray-400 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 disabled:bg-gray-600 disabled:cursor-not-allowed resize-none"})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:!d.trim()||h,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Wird hinzugefÃ¼gt..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"mr-2",children:"âž•"}),"Todo hinzufÃ¼gen"]})})})]})]})}function e({todo:a,onUpdate:d,onDelete:e,index:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(a.title),[k,l]=(0,c.useState)(a.description||""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),q=async()=>{n(!0);try{await d(a.id,{completed:!a.completed})}finally{n(!1)}},r=async()=>{if(i.trim()){n(!0);try{await d(a.id,{title:i.trim(),description:k.trim()||null})&&h(!1)}finally{n(!1)}}},s=async()=>{if(confirm("MÃ¶chtest du dieses Todo wirklich lÃ¶schen?")){p(!0);try{await e(a.id)}finally{p(!1)}}},t=a=>new Date(a).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return(0,b.jsx)("div",{className:`p-6 hover:bg-gray-700 transition-colors animate-slide-up ${a.completed?"opacity-75":""}`,style:{animationDelay:`${50*f}ms`},children:(0,b.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,b.jsx)("button",{onClick:q,disabled:m||o,className:`flex-shrink-0 mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:cursor-not-allowed ${a.completed?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-indigo-500"}`,children:m?(0,b.jsx)("div",{className:"w-3 h-3 border border-current border-t-transparent rounded-full animate-spin"}):a.completed?(0,b.jsx)("span",{className:"text-xs",children:"âœ“"}):null}),(0,b.jsx)("div",{className:"flex-1 min-w-0",children:g?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"Titel",maxLength:255,className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm placeholder-gray-400 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400"}),(0,b.jsx)("textarea",{value:k,onChange:a=>l(a.target.value),placeholder:"Beschreibung (optional)",rows:2,className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded-md shadow-sm placeholder-gray-400 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 resize-none"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:r,disabled:!i.trim()||m,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Speichert...":"Speichern"}),(0,b.jsx)("button",{onClick:()=>{h(!1),j(a.title),l(a.description||"")},disabled:m,className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Abbrechen"})]})]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:`text-lg font-medium ${a.completed?"line-through text-gray-400":"text-white"}`,children:a.title}),a.description&&(0,b.jsx)("p",{className:`mt-1 text-sm ${a.completed?"line-through text-gray-500":"text-gray-300"}`,children:a.description}),(0,b.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-400",children:[(0,b.jsxs)("span",{children:["Erstellt: ",t(a.createdAt)]}),a.updatedAt!==a.createdAt&&(0,b.jsxs)("span",{children:["GeÃ¤ndert: ",t(a.updatedAt)]})]})]})}),!g&&(0,b.jsxs)("div",{className:"flex-shrink-0 flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>{h(!0),j(a.title),l(a.description||"")},disabled:m||o,className:"p-2 text-gray-400 hover:text-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-400 rounded disabled:cursor-not-allowed",title:"Bearbeiten",children:(0,b.jsx)("span",{className:"text-sm",children:"âœï¸"})}),(0,b.jsx)("button",{onClick:s,disabled:m||o,className:"p-2 text-gray-400 hover:text-red-400 focus:outline-none focus:ring-2 focus:ring-red-400 rounded disabled:cursor-not-allowed",title:"LÃ¶schen",children:o?(0,b.jsx)("div",{className:"w-4 h-4 border border-current border-t-transparent rounded-full animate-spin"}):(0,b.jsx)("span",{className:"text-sm",children:"ðŸ—‘ï¸"})})]})]})})}function f({todos:a,onUpdateTodo:c,onDeleteTodo:d}){if(0===a.length)return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 text-center border border-gray-700",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“"}),(0,b.jsx)("h3",{className:"text-xl font-medium text-white mb-2",children:"Keine Todos vorhanden"}),(0,b.jsx)("p",{className:"text-gray-400",children:"FÃ¼ge dein erstes Todo hinzu, um zu starten!"})]});let f=[...a].sort((a,b)=>a.completed===b.completed?new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime():a.completed?1:-1);return(0,b.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden border border-gray-700",children:[(0,b.jsx)("div",{className:"px-6 py-4 bg-gray-900 border-b border-gray-600",children:(0,b.jsxs)("h2",{className:"text-xl font-semibold text-white",children:["ðŸ“‹ Deine Todos (",a.length,")"]})}),(0,b.jsx)("div",{className:"divide-y divide-gray-600",children:f.map((a,f)=>(0,b.jsx)(e,{todo:a,onUpdate:c,onDelete:d,index:f},a.id))})]})}function g(){return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-200 border-t-indigo-600 rounded-full animate-spin"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"LÃ¤dt Todos..."}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Einen Moment bitte"})]})]})})}function h(){let[a,e]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),l=async()=>{try{i(!0),k(null);let a=await fetch("/api/todos"),b=await a.json();if(b.success&&b.data)e(b.data);else throw Error(b.message||"Fehler beim Laden der Todos")}catch(a){console.error("Fehler beim Laden der Todos:",a),k(a instanceof Error?a.message:"Unbekannter Fehler")}finally{i(!1)}},m=async(a,b)=>{try{let c=await fetch("/api/todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a,description:b})}),d=await c.json();if(d.success&&d.data)return e(a=>[d.data,...a]),!0;throw Error(d.message||"Fehler beim Erstellen des Todos")}catch(a){return console.error("Fehler beim Erstellen des Todos:",a),k(a instanceof Error?a.message:"Fehler beim Erstellen"),!1}},n=async(a,b)=>{try{let c=await fetch(`/api/todos/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),d=await c.json();if(d.success&&d.data)return e(b=>b.map(b=>b.id===a?d.data:b)),!0;throw Error(d.message||"Fehler beim Aktualisieren des Todos")}catch(a){return console.error("Fehler beim Aktualisieren des Todos:",a),k(a instanceof Error?a.message:"Fehler beim Aktualisieren"),!1}},o=async a=>{try{let b=await fetch(`/api/todos/${a}`,{method:"DELETE"}),c=await b.json();if(c.success)return e(b=>b.filter(b=>b.id!==a)),!0;throw Error(c.message||"Fehler beim LÃ¶schen des Todos")}catch(a){return console.error("Fehler beim LÃ¶schen des Todos:",a),k(a instanceof Error?a.message:"Fehler beim LÃ¶schen"),!1}};(0,c.useEffect)(()=>{l()},[]);let p=a.filter(a=>a.completed).length,q=a.length;return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[j&&(0,b.jsx)("div",{className:"bg-red-900 border border-red-700 rounded-lg p-4 animate-fade-in",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("span",{className:"text-red-400 text-xl",children:"âš ï¸"})}),(0,b.jsx)("div",{className:"ml-3",children:(0,b.jsx)("p",{className:"text-sm font-medium text-red-100",children:j})}),(0,b.jsx)("div",{className:"ml-auto pl-3",children:(0,b.jsxs)("button",{onClick:()=>k(null),className:"inline-flex bg-red-900 rounded-md p-1.5 text-red-400 hover:bg-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-red-900 focus:ring-red-400",children:[(0,b.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,b.jsx)("span",{className:"text-lg",children:"Ã—"})]})})]})}),(0,b.jsx)("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-700",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-white",children:q}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Gesamt"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-400",children:p}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Erledigt"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:q-p}),(0,b.jsx)("div",{className:"text-sm text-gray-400",children:"Offen"})]})]})}),(0,b.jsx)(d,{onAddTodo:m}),h?(0,b.jsx)(g,{}):(0,b.jsx)(f,{todos:a,onUpdateTodo:n,onDeleteTodo:o}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("button",{onClick:l,disabled:h,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"LÃ¤dt..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"mr-2",children:"ðŸ”„"}),"Aktualisieren"]})})})]})}a.s(["default",()=>h],97894)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3d95f7ba._.js.map